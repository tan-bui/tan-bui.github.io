<html><head></head><body><dom-module id="my-profile-login"><template><style>paper-button{font-family:'Roboto', 'Noto', sans-serif;font-weight:normal;font-size:14px;-webkit-font-smoothing:antialiased;}paper-button.indigo{background-color:var(--paper-indigo-500);color:white;--paper-button-raised-keyboard-focus:{background-color:var(--paper-pink-a200) !important;color:white !important;};}</style><app-location route="{{route}}"></app-location><my-profile-data id="myData"></my-profile-data><iron-form id="loginForm"><form method="post"><paper-input always-float-label="" label="Username" autofocus="" name="username" value="admin"><iron-icon icon="account-box" slot="prefix"></iron-icon></paper-input><paper-input always-float-label="" label="Password" type="password" name="password" value="myP@ss123"><iron-icon icon="lock" slot="prefix"></iron-icon></paper-input><div style="text-align: center"><paper-button raised="" class="indigo" id="btnSubmit">Submit</paper-button><paper-button>Back</paper-button></div><div id="loginResult"></div></form><p><i>This login is simulated with <strong>local storage</strong> and <strong>session storage</strong>.<br>It's your own security risk to store login data into session storage.</i></p></iron-form></template><script>var MyProfileLogin=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),this.$.btnSubmit.addEventListener('click',function(f){d._submit(f)}),this.$.loginForm.addEventListener('iron-form-submit',function(f){d._processSubmit(f)})}},{key:'_submit',value:function(){this.$.loginForm.submit()}},{key:'_processSubmit',value:function(d){if(null!==this.loginUser)this.$.myData.logOut(),this.set('route.path','/home'),this.dispatchEvent(new CustomEvent('user-logout',{bubbles:!0,composed:!0,detail:this.loginUser}));else{var f=this.$.myData.logIn(d.detail.username,d.detail.password);f?(this.$.loginResult.style.display='none',this.set('route.path','/home'),this.dispatchEvent(new CustomEvent('show-toast',{bubbles:!0,composed:!0,detail:'Welcome back, '+f.username+'!'}))):(this.$.loginResult.style.display='block',this.$.loginResult.innerHTML='Wrong authentication. Please try again.')}}},{key:'_showLogin',value:function(d){if(d){var f='Log in',g='Log in';this.loginUser=this.$.myData.getLoginUser(),null!==this.loginUser&&(f=this.loginUser.username,g='Log out'),this.$.btnSubmit.innerHTML=g,this.dispatchEvent(new CustomEvent('change-page',{bubbles:!0,composed:!0,detail:{title:f}}))}}}],[{key:'properties',get:function(){return{visible:{type:Boolean,value:!1}}}},{key:'is',get:function(){return'my-profile-login'}},{key:'observers',get:function(){return['_showLogin(visible)']}}]),b}(Polymer.Element);customElements.define(MyProfileLogin.is,MyProfileLogin);</script></dom-module></body></html>